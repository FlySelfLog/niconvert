<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<title>niconvert - 弹幕字幕下载和转换工具</title>
<style type="text/css">
body {
    width: 720px;
    margin: auto;
}
h1 {
    font-size: 36px;
}
h1 span {
    font-size: 18px;
    color: #999999;
    margin-left: 10px;
}
a {
    text-decoration: none;
}
#message {
    background: none repeat scroll 0 0 #F2DEDE;
    color: #B94A48;
    padding: 10px;
}
ul {
    line-height: 32px;
    list-style-type: none;
}
#main {
    margin: 30px 0;
}
input.url {
    width: 480px;
}
input.integer {
    text-align: right;
    width: 80px;
}
input.submit {
    margin-left: 120px;
}
span.hint {
    font-size: 12px;
}
#description {
    color: #999999;
}
label {
    font-weight: bold;
}
#footer {
    margin-top: 30px;
}
</style>
</head>
<body>
<div id="header">
    <h1><a href="/">niconvert</a><span>弹幕字幕下载和转换工具</span></h1>
    <hr />
</div>

%if defined('message'):
<div id="message">
    {{message}}
</div>
%end

<div id="main">
    %if not defined('url'):
    <h2>介绍</h2>
        <p> niconvert 是一个弹幕视频网站上的评论转换成 ass 字幕，方便在桌面播放器可识别的 ass 格式字幕，并提供简单的转换选项。</p>
        <p>这个工具是自由软件，此为网页版，方便伸手党，也提供命令行和桌面GUI版，更多信息可参阅 github 的 <a href="https://github.com/muzuiget/niconvert">niconvert</a> 项目。</p>
        <p>目前支持 <a href="http://www.acfun.tv/">acfun</a> 或 <a href="http://www.bilibili.tv/">bilibili </a>，在下面输入视频地址然后抓取，接着设置选项，点击「下载」按钮即可。</p>
    %end

    <h2>分析</h2>
    <form>
    %if defined('url'):
        <label>视频地址：</label><input class="url" type="text" name="url" value="{{url}}"/>
    %else:
        <label>视频地址：</label><input class="url" type="text" name="url" value=""/>
    %end
        <input type="submit" value="抓取" />
    </form>

    %if defined('url'):
    <h2>摘要</h2>
    <ul>
        <li><label>视频标题：</label><a href="{{url}}">{{video_title}}</a></li>
        <li><label>评论地址：</label><a href="{{comment_url}}">{{comment_url}}</a></li>
    </ul>

    <h2>选项</h2>
    <form id="options" method="post" target="_blank">
    <ul>
        <li>
            <label>字体名称：</label>
            <input type="text" name="font_name" value="{{default_font_name}}"/>
        </li>
        <li>
            <label>字体大小：</label>
            <input class="integer" type="text" name="font_size" value="50"/>
            <span class="hint">像素</span>
        </li>
        <li>
            <label>视频宽度：</label>
            <input class="integer" type="text" name="video_width" value="1920"/>
            <span class="hint">像素</span>
            </li>
        <li>
            <label>视频高度：</label>
            <input class="integer" type="text" name="video_height"value="1080"/>
            <span class="hint">像素</span>
        </li>
        <li>
            <label>同屏行数：</label>
            <input class="integer" type="text" name="line_count" value="5"/>
            <span class="hint">行</span>
        </li>
        <li>
            <label>底边距离：</label>
            <input class="integer" type="text" name="bottom_margin" value="50"/>
            <span class="hint">像素</span>
        </li>
        <li>
            <label>调整秒数：</label>
            <input class="integer" type="text" name="tune_seconds" value="0"/>
            <span class="hint">秒</span>
        </li>
    </ul>
        <input type="hidden" name="url" value="{{url}}"/>
        <input class="submit", type="submit" value="下载"/>
    </form>
    %end
</div>
<div id="footer">
    <div id="description">
        <p>由 <a href="http://bottlepy.org/">bottle</a> 给力驱动。</p>
    </div>
</div>
<a href="https://github.com/muzuiget/niconvert"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://a248.e.akamai.net/assets.github.com/img/abad93f42020b733148435e2cd92ce15c542d320/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub"></a>
</body>
</html>
